[2025-09-16 20:46:59] 🚀 Starting PayPal Clone Ecosystem Test Suite
[2025-09-16 20:46:59] ==============================================
[2025-09-16 20:46:59] 
[2025-09-16 20:46:59] 🏥 STEP 1: Health Checks
[2025-09-16 20:46:59] ========================
[2025-09-16 20:46:59] 🔄 API Call: GET /auth/health
[2025-09-16 20:46:59] 📥 Response: 
[2025-09-16 20:47:00] 🔄 API Call: GET /payment/health
[2025-09-16 20:47:00] 📥 Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-16T15:17:00.350Z"}
[2025-09-16 20:47:01] 🔄 API Call: GET /notification/health
[2025-09-16 20:47:01] 📥 Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-16T15:17:01.386Z"}
[2025-09-16 20:47:03] 
[2025-09-16 20:47:03] 👤 STEP 2: User Registration
[2025-09-16 20:47:03] ============================
[2025-09-16 20:47:03] 📝 Registering user: alice@paypal.com
[2025-09-16 20:47:03] 🔄 API Call: POST /auth/register
[2025-09-16 20:47:03] 📥 Response: {"message":"User registered successfully","userId":1758035823616}
[2025-09-16 20:47:04] 📝 Registering user: bob@paypal.com
[2025-09-16 20:47:04] 🔄 API Call: POST /auth/register
[2025-09-16 20:47:04] 📥 Response: {"message":"User registered successfully","userId":1758035824788}
[2025-09-16 20:47:05] 📝 Registering user: charlie@paypal.com
[2025-09-16 20:47:05] 🔄 API Call: POST /auth/register
[2025-09-16 20:47:05] 📥 Response: {"message":"User registered successfully","userId":1758035825962}
[2025-09-16 20:47:06] 
[2025-09-16 20:47:06] 🔐 STEP 3: User Login
[2025-09-16 20:47:06] =====================
[2025-09-16 20:47:06] 🔑 Logging in user: alice@paypal.com
[2025-09-16 20:47:06] 🔄 API Call: POST /auth/login
[2025-09-16 20:47:07] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgwMzU4MjM2MTYsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODAzNTgyNywiZXhwIjoxNzU4MTIyMjI3fQ.GAblOYohpwORQlUdsCav52IgAkFH76CyKaaM5uj3rsw","userId":1758035823616}
[2025-09-16 20:47:08] 🔑 Logging in user: bob@paypal.com
[2025-09-16 20:47:08] 🔄 API Call: POST /auth/login
[2025-09-16 20:47:08] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgwMzU4MjQ3ODgsImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgwMzU4MjgsImV4cCI6MTc1ODEyMjIyOH0._NODzoPqFw3qDGYsgf_GyrsntDByMgRU2TobiOSY0nA","userId":1758035824788}
[2025-09-16 20:47:09] 🔑 Logging in user: charlie@paypal.com
[2025-09-16 20:47:09] 🔄 API Call: POST /auth/login
[2025-09-16 20:47:09] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgwMzU4MjU5NjIsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MDM1ODI5LCJleHAiOjE3NTgxMjIyMjl9.djjrAXpC3wq8WLy9_7GLguGAvuhcbpje30D-rjYoQUc","userId":1758035825962}
[2025-09-16 20:47:10] 
[2025-09-16 20:47:10] ✅ STEP 4: Token Verification
[2025-09-16 20:47:10] =============================
[2025-09-16 20:47:10] 🎫 Verifying token for alice@paypal.com
[2025-09-16 20:47:10] 🔄 API Call: POST /auth/verify
[2025-09-16 20:47:10] 📥 Response: <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>SyntaxError: Unexpected token <br> in JSON at position 205<br> &nbsp; &nbsp;at JSON.parse (&lt;anonymous&gt;)<br> &nbsp; &nbsp;at parse (/app/node_modules/body-parser/lib/types/json.js:92:19)<br> &nbsp; &nbsp;at /app/node_modules/body-parser/lib/read.js:128:18<br> &nbsp; &nbsp;at AsyncResource.runInAsyncScope (node:async_hooks:203:9)<br> &nbsp; &nbsp;at invokeCallback (/app/node_modules/raw-body/index.js:238:16)<br> &nbsp; &nbsp;at done (/app/node_modules/raw-body/index.js:227:7)<br> &nbsp; &nbsp;at IncomingMessage.onEnd (/app/node_modules/raw-body/index.js:287:7)<br> &nbsp; &nbsp;at IncomingMessage.emit (node:events:525:35)<br> &nbsp; &nbsp;at endReadableNT (node:internal/streams/readable:1358:12)<br> &nbsp; &nbsp;at processTicksAndRejections (node:internal/process/task_queues:83:21)</pre>
</body>
</html>
[2025-09-16 20:47:11] 🎫 Verifying token for bob@paypal.com
[2025-09-16 20:47:11] 🔄 API Call: POST /auth/verify
[2025-09-16 20:47:11] 📥 Response: <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>SyntaxError: Unexpected token <br> in JSON at position 202<br> &nbsp; &nbsp;at JSON.parse (&lt;anonymous&gt;)<br> &nbsp; &nbsp;at parse (/app/node_modules/body-parser/lib/types/json.js:92:19)<br> &nbsp; &nbsp;at /app/node_modules/body-parser/lib/read.js:128:18<br> &nbsp; &nbsp;at AsyncResource.runInAsyncScope (node:async_hooks:203:9)<br> &nbsp; &nbsp;at invokeCallback (/app/node_modules/raw-body/index.js:238:16)<br> &nbsp; &nbsp;at done (/app/node_modules/raw-body/index.js:227:7)<br> &nbsp; &nbsp;at IncomingMessage.onEnd (/app/node_modules/raw-body/index.js:287:7)<br> &nbsp; &nbsp;at IncomingMessage.emit (node:events:525:35)<br> &nbsp; &nbsp;at endReadableNT (node:internal/streams/readable:1358:12)<br> &nbsp; &nbsp;at processTicksAndRejections (node:internal/process/task_queues:83:21)</pre>
</body>
</html>
[2025-09-16 20:47:12] 🎫 Verifying token for charlie@paypal.com
[2025-09-16 20:47:12] 🔄 API Call: POST /auth/verify
[2025-09-16 20:47:12] 📥 Response: <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>SyntaxError: Unexpected token <br> in JSON at position 207<br> &nbsp; &nbsp;at JSON.parse (&lt;anonymous&gt;)<br> &nbsp; &nbsp;at parse (/app/node_modules/body-parser/lib/types/json.js:92:19)<br> &nbsp; &nbsp;at /app/node_modules/body-parser/lib/read.js:128:18<br> &nbsp; &nbsp;at AsyncResource.runInAsyncScope (node:async_hooks:203:9)<br> &nbsp; &nbsp;at invokeCallback (/app/node_modules/raw-body/index.js:238:16)<br> &nbsp; &nbsp;at done (/app/node_modules/raw-body/index.js:227:7)<br> &nbsp; &nbsp;at IncomingMessage.onEnd (/app/node_modules/raw-body/index.js:287:7)<br> &nbsp; &nbsp;at IncomingMessage.emit (node:events:525:35)<br> &nbsp; &nbsp;at endReadableNT (node:internal/streams/readable:1358:12)<br> &nbsp; &nbsp;at processTicksAndRejections (node:internal/process/task_queues:83:21)</pre>
</body>
</html>
[2025-09-16 20:47:13] 
[2025-09-16 20:47:13] 💳 STEP 5: Payment Processing
[2025-09-16 20:47:13] =============================
[2025-09-16 20:47:13] 💰 Processing payment: 50.00 to john@example.com
[2025-09-16 20:47:13] 🔄 API Call: POST /payment/process
[2025-09-16 20:47:17] 📥 Response: {"error":"No token provided"}
