[2025-09-16 21:02:54] 🚀 Starting PayPal Clone Ecosystem Test Suite
[2025-09-16 21:02:54] ==============================================
[2025-09-16 21:02:54] 
[2025-09-16 21:02:54] 🏥 STEP 1: Health Checks
[2025-09-16 21:02:54] ========================
[2025-09-16 21:02:54] 🔄 API Call: GET /auth/health
[2025-09-16 21:02:54] 📥 Response: 
[2025-09-16 21:02:55] 🔄 API Call: GET /payment/health
[2025-09-16 21:02:55] 📥 Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-16T15:32:55.186Z"}
[2025-09-16 21:02:56] 🔄 API Call: GET /notification/health
[2025-09-16 21:02:56] 📥 Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-16T15:32:56.225Z"}
[2025-09-16 21:02:58] 
[2025-09-16 21:02:58] 👤 STEP 2: User Registration
[2025-09-16 21:02:58] ============================
[2025-09-16 21:02:58] 📝 Registering user: alice@paypal.com
[2025-09-16 21:02:58] 🔄 API Call: POST /auth/register
[2025-09-16 21:02:58] 📥 Response: {"message":"User registered successfully","userId":1758036778455}
[2025-09-16 21:02:59] 📝 Registering user: bob@paypal.com
[2025-09-16 21:02:59] 🔄 API Call: POST /auth/register
[2025-09-16 21:02:59] 📥 Response: {"message":"User registered successfully","userId":1758036779626}
[2025-09-16 21:03:00] 📝 Registering user: charlie@paypal.com
[2025-09-16 21:03:00] 🔄 API Call: POST /auth/register
[2025-09-16 21:03:00] 📥 Response: {"message":"User registered successfully","userId":1758036780796}
[2025-09-16 21:03:01] 
[2025-09-16 21:03:01] 🔐 STEP 3: User Login
[2025-09-16 21:03:01] =====================
[2025-09-16 21:03:01] 🔑 Logging in user: alice@paypal.com
[2025-09-16 21:03:01] 🔄 API Call: POST /auth/login
[2025-09-16 21:03:01] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgwMzY3Nzg0NTUsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODAzNjc4MSwiZXhwIjoxNzU4MTIzMTgxfQ.M3ADjWmrL460F1MbNqVpRs-7cuhJzN6W6MG4lfJRhqo","userId":1758036778455}
[2025-09-16 21:03:01] ✅ Token extracted successfully for alice@paypal.com
[2025-09-16 21:03:02] 🔑 Logging in user: bob@paypal.com
[2025-09-16 21:03:02] 🔄 API Call: POST /auth/login
[2025-09-16 21:03:03] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgwMzY3Nzk2MjYsImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgwMzY3ODMsImV4cCI6MTc1ODEyMzE4M30.rXwLXy-NkKLS2htZKXd8-xw_3CJQ-stipvcACTH_6co","userId":1758036779626}
[2025-09-16 21:03:03] ✅ Token extracted successfully for bob@paypal.com
[2025-09-16 21:03:04] 🔑 Logging in user: charlie@paypal.com
[2025-09-16 21:03:04] 🔄 API Call: POST /auth/login
[2025-09-16 21:03:04] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgwMzY3ODA3OTYsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MDM2Nzg0LCJleHAiOjE3NTgxMjMxODR9.uUOZM4xFC8ZAatw5CzCSvt9iT4-YQ8ubAfnJHialVzk","userId":1758036780796}
[2025-09-16 21:03:04] ✅ Token extracted successfully for charlie@paypal.com
[2025-09-16 21:03:05] 
[2025-09-16 21:03:05] ✅ STEP 4: Token Verification
[2025-09-16 21:03:05] =============================
[2025-09-16 21:03:05] 🎫 Verifying token for alice@paypal.com
[2025-09-16 21:03:05] 🔄 API Call: POST /auth/verify
[2025-09-16 21:03:05] 📥 Response: {"valid":false,"error":"Invalid token"}
[2025-09-16 21:03:06] 🎫 Verifying token for bob@paypal.com
[2025-09-16 21:03:06] 🔄 API Call: POST /auth/verify
[2025-09-16 21:03:06] 📥 Response: {"valid":false,"error":"Invalid token"}
[2025-09-16 21:03:07] 🎫 Verifying token for charlie@paypal.com
[2025-09-16 21:03:07] 🔄 API Call: POST /auth/verify
[2025-09-16 21:03:07] 📥 Response: {"valid":false,"error":"Invalid token"}
[2025-09-16 21:03:08] 
[2025-09-16 21:03:08] 💳 STEP 5: Payment Processing
[2025-09-16 21:03:08] =============================
[2025-09-16 21:03:08] 💰 Processing payment: 50.00 to john@example.com
[2025-09-16 21:03:08] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:12] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:14] 💰 Processing payment: 150.75 to sarah@store.com
[2025-09-16 21:03:14] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:18] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:20] 💰 Processing payment: 25.50 to mike@restaurant.com
[2025-09-16 21:03:20] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:24] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:26] 💰 Processing payment: 300.00 to landlord@apartments.com
[2025-09-16 21:03:26] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:30] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:32] 💰 Processing payment: 75.25 to utilities@company.com
[2025-09-16 21:03:32] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:35] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:37] 
[2025-09-16 21:03:37] 📊 STEP 6: Payment History
[2025-09-16 21:03:37] ==========================
[2025-09-16 21:03:37] 📈 Fetching payment history
[2025-09-16 21:03:37] 🔄 API Call: GET /payment/history
[2025-09-16 21:03:41] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:41] 
[2025-09-16 21:03:41] ❌ STEP 7: Error Scenarios
[2025-09-16 21:03:41] ==========================
[2025-09-16 21:03:41] 🚫 Testing invalid login
[2025-09-16 21:03:41] 🔄 API Call: POST /auth/login
[2025-09-16 21:03:41] 📥 Response: {"error":"Invalid credentials"}
[2025-09-16 21:03:42] 🚫 Testing payment without token
[2025-09-16 21:03:42] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:42] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:43] 🚫 Testing invalid token
[2025-09-16 21:03:43] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:47] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:48] 
[2025-09-16 21:03:48] 🔄 STEP 8: Inter-Service Communication
[2025-09-16 21:03:48] ======================================
[2025-09-16 21:03:48] 🎯 Testing complete flow: Auth → Payment → Notification
[2025-09-16 21:03:48] 🔄 API Call: POST /payment/process
[2025-09-16 21:03:52] 📥 Response: {"error":"No token provided"}
[2025-09-16 21:03:52] 
[2025-09-16 21:03:52] ✅ ECOSYSTEM TEST COMPLETED
[2025-09-16 21:03:52] ============================
[2025-09-16 21:03:52] 📊 Total API calls made: 22
[2025-09-16 21:03:52] 📝 Log file saved: logs/ecosystem-20250916-210254.log
[2025-09-16 21:03:52] 
[2025-09-16 21:03:52] 🐳 Docker container logs:
[2025-09-16 21:03:52]   - docker-compose logs auth-service
[2025-09-16 21:03:52]   - docker-compose logs payment-service
[2025-09-16 21:03:52]   - docker-compose logs notification-service
[2025-09-16 21:03:52]   - docker-compose logs api-gateway
