[2025-09-17 19:25:41] ğŸš€ Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 19:25:41] ==============================================
[2025-09-17 19:25:41] 
[2025-09-17 19:25:41] ğŸ¥ STEP 1: Health Checks
[2025-09-17 19:25:41] ========================
[2025-09-17 19:25:41] ğŸ”„ API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 19:25:41] ğŸ“¥ Response: 
[2025-09-17 19:25:42] ğŸ”„ API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 19:25:42] ğŸ“¥ Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T13:55:42.270Z"}
[2025-09-17 19:25:43] ğŸ”„ API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 19:25:43] ğŸ“¥ Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T13:55:43.313Z"}
[2025-09-17 19:25:45] 
[2025-09-17 19:25:45] ğŸ‘¤ STEP 2: User Registration
[2025-09-17 19:25:45] ============================
[2025-09-17 19:25:45] ğŸ“ Registering user: alice@paypal.com
[2025-09-17 19:25:45] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:25:45] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758117345666}
[2025-09-17 19:25:46] ğŸ“ Registering user: bob@paypal.com
[2025-09-17 19:25:46] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:25:46] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758117346905}
[2025-09-17 19:25:47] ğŸ“ Registering user: charlie@paypal.com
[2025-09-17 19:25:47] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:25:48] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758117348113}
[2025-09-17 19:25:49] 
[2025-09-17 19:25:49] ğŸ” STEP 3: User Login
[2025-09-17 19:25:49] =====================
[2025-09-17 19:25:49] ğŸ”‘ Logging in user: alice@paypal.com
[2025-09-17 19:25:49] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:25:49] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTczNDU2NjYsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODExNzM0OSwiZXhwIjoxNzU4MjAzNzQ5fQ.sS3vUC70JuCl58XNjzwALA5KoGBZhkkgPUFaigiku9o","userId":1758117345666}
[2025-09-17 19:25:49] âœ… Token extracted successfully for alice@paypal.com (token=eyJhbGci...)
[2025-09-17 19:25:50] ğŸ”‘ Logging in user: bob@paypal.com
[2025-09-17 19:25:50] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:25:50] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTczNDY5MDUsImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMTczNTAsImV4cCI6MTc1ODIwMzc1MH0.-y_xEclkR9oOIWNG1s6QObjzXorr_tAS28RpOlrWlbc","userId":1758117346905}
[2025-09-17 19:25:50] âœ… Token extracted successfully for bob@paypal.com (token=eyJhbGci...)
[2025-09-17 19:25:51] ğŸ”‘ Logging in user: charlie@paypal.com
[2025-09-17 19:25:51] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:25:51] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTczNDgxMTMsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTE3MzUxLCJleHAiOjE3NTgyMDM3NTF9.XZC8YTfk8AChbiljWFK4a4ZfhPcQqgU_iAb6hZ3fHBM","userId":1758117348113}
[2025-09-17 19:25:51] âœ… Token extracted successfully for charlie@paypal.com (token=eyJhbGci...)
[2025-09-17 19:25:52] 
[2025-09-17 19:25:52] âœ… STEP 4: Token Verification
[2025-09-17 19:25:52] =============================
[2025-09-17 19:25:52] ğŸ« Verifying token for alice@paypal.com
[2025-09-17 19:25:52] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:25:52] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:25:53] ğŸ« Verifying token for bob@paypal.com
[2025-09-17 19:25:53] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:25:53] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:25:54] ğŸ« Verifying token for charlie@paypal.com
[2025-09-17 19:25:54] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:25:54] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:25:55] 
[2025-09-17 19:25:55] ğŸ’³ STEP 5: Payment Processing
[2025-09-17 19:25:55] =============================
[2025-09-17 19:25:55] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:25:55] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:25:56] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:25:58] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:25:58] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:25:58] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:00] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:26:00] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:00] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:02] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:26:02] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:02] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:04] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:26:04] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:04] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:06] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:26:06] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:06] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:08] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:26:08] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:08] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:10] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:26:10] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:10] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:12] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:26:12] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:12] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:14] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:26:14] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:14] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:16] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:26:16] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:16] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:18] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:26:18] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:18] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:20] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:26:20] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:20] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:22] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:26:22] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:22] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:24] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:26:24] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:24] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:26] 
[2025-09-17 19:26:26] ğŸ“Š STEP 6: Payment History
[2025-09-17 19:26:26] ==========================
[2025-09-17 19:26:26] ğŸ“ˆ Fetching payment history
[2025-09-17 19:26:26] ğŸ”„ API Call: GET http://localhost:8080/api/payment/history
[2025-09-17 19:26:26] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:26] 
[2025-09-17 19:26:26] âŒ STEP 7: Error Scenarios
[2025-09-17 19:26:26] ==========================
[2025-09-17 19:26:26] ğŸš« Testing invalid login
[2025-09-17 19:26:26] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:26:26] ğŸ“¥ Response: {"error":"Invalid credentials"}
[2025-09-17 19:26:27] ğŸš« Testing payment without token
[2025-09-17 19:26:27] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:27] ğŸ“¥ Response: {"error":"No token provided"}
[2025-09-17 19:26:28] ğŸš« Testing invalid token
[2025-09-17 19:26:28] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:28] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:29] 
[2025-09-17 19:26:29] ğŸ”„ STEP 8: Inter-Service Communication
[2025-09-17 19:26:29] ======================================
[2025-09-17 19:26:29] ğŸ¯ Testing complete flow: Auth â†’ Payment â†’ Notification
[2025-09-17 19:26:29] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:26:29] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:26:29] 
[2025-09-17 19:26:29] âœ… ECOSYSTEM TEST COMPLETED
[2025-09-17 19:26:29] ============================
[2025-09-17 19:26:29] ğŸ“Š Total API calls made: 32
[2025-09-17 19:26:29] ğŸ“ Log file saved: logs/ecosystem-20250917-192541.log
