[2025-09-17 19:40:58] ğŸš€ Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 19:40:58] ==============================================
[2025-09-17 19:40:58] 
[2025-09-17 19:40:58] ğŸ¥ STEP 1: Health Checks
[2025-09-17 19:40:58] ========================
[2025-09-17 19:40:58] ğŸ”„ API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 19:40:58] ğŸ“¥ Response: 
[2025-09-17 19:40:59] ğŸ”„ API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 19:40:59] ğŸ“¥ Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T14:10:59.658Z"}
[2025-09-17 19:41:00] ğŸ”„ API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 19:41:00] ğŸ“¥ Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T14:11:00.694Z"}
[2025-09-17 19:41:02] 
[2025-09-17 19:41:02] ğŸ‘¤ STEP 2: User Registration
[2025-09-17 19:41:02] ============================
[2025-09-17 19:41:02] ğŸ“ Registering user: alice@paypal.com
[2025-09-17 19:41:02] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:41:02] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758118262965}
[2025-09-17 19:41:03] ğŸ“ Registering user: bob@paypal.com
[2025-09-17 19:41:03] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:41:04] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758118264157}
[2025-09-17 19:41:05] ğŸ“ Registering user: charlie@paypal.com
[2025-09-17 19:41:05] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:41:05] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758118265347}
[2025-09-17 19:41:06] 
[2025-09-17 19:41:06] ğŸ” STEP 3: User Login
[2025-09-17 19:41:06] =====================
[2025-09-17 19:41:06] ğŸ”‘ Logging in user: alice@paypal.com
[2025-09-17 19:41:06] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:41:06] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTgyNjI5NjUsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODExODI2NiwiZXhwIjoxNzU4MjA0NjY2fQ.UdU9Xb30xOxLCgLHIucdOtgJUJi5QqzeU5EgfmbpVEU","userId":1758118262965}
[2025-09-17 19:41:06] âœ… Token extracted successfully for alice@paypal.com (token=eyJhbGci...)
[2025-09-17 19:41:07] ğŸ”‘ Logging in user: bob@paypal.com
[2025-09-17 19:41:07] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:41:07] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTgyNjQxNTcsImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMTgyNjcsImV4cCI6MTc1ODIwNDY2N30.qWQEHL7vXgZQwWIyV_UKtlihtPqTBtDPXffJsaBBlbs","userId":1758118264157}
[2025-09-17 19:41:07] âœ… Token extracted successfully for bob@paypal.com (token=eyJhbGci...)
[2025-09-17 19:41:08] ğŸ”‘ Logging in user: charlie@paypal.com
[2025-09-17 19:41:08] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:41:09] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTgyNjUzNDcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTE4MjY5LCJleHAiOjE3NTgyMDQ2Njl9.qTfHt5b4scovZYjBffv8TnMreTdGeVKvigeoA5lwAOE","userId":1758118265347}
[2025-09-17 19:41:09] âœ… Token extracted successfully for charlie@paypal.com (token=eyJhbGci...)
[2025-09-17 19:41:10] 
[2025-09-17 19:41:10] âœ… STEP 4: Token Verification
[2025-09-17 19:41:10] =============================
[2025-09-17 19:41:10] ğŸ« Verifying token for alice@paypal.com
[2025-09-17 19:41:10] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:41:10] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:41:11] ğŸ« Verifying token for bob@paypal.com
[2025-09-17 19:41:11] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:41:11] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:41:12] ğŸ« Verifying token for charlie@paypal.com
[2025-09-17 19:41:12] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:41:12] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:41:13] 
[2025-09-17 19:41:13] ğŸ’³ STEP 5: Payment Processing
[2025-09-17 19:41:13] =============================
[2025-09-17 19:41:13] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:41:13] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:13] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:15] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:41:15] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:15] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:17] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:41:17] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:17] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:19] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:41:19] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:19] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:21] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:41:21] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:21] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:23] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:41:23] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:23] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:25] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:41:25] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:25] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:27] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:41:27] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:27] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:29] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:41:29] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:29] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:31] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:41:31] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:31] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:33] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:41:33] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:33] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:35] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:41:35] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:36] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:38] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:41:38] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:38] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:40] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:41:40] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:40] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:42] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:41:42] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:42] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:44] 
[2025-09-17 19:41:44] ğŸ“Š STEP 6: Payment History
[2025-09-17 19:41:44] ==========================
[2025-09-17 19:41:44] ğŸ“ˆ Fetching payment history
[2025-09-17 19:41:44] ğŸ”„ API Call: GET http://localhost:8080/api/payment/history
[2025-09-17 19:41:44] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:44] 
[2025-09-17 19:41:44] âŒ STEP 7: Error Scenarios
[2025-09-17 19:41:44] ==========================
[2025-09-17 19:41:44] ğŸš« Testing invalid login
[2025-09-17 19:41:44] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:41:44] ğŸ“¥ Response: {"error":"Invalid credentials"}
[2025-09-17 19:41:45] ğŸš« Testing payment without token
[2025-09-17 19:41:45] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:45] ğŸ“¥ Response: {"error":"No token provided"}
[2025-09-17 19:41:46] ğŸš« Testing invalid token
[2025-09-17 19:41:46] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:46] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:47] 
[2025-09-17 19:41:47] ğŸ”„ STEP 8: Inter-Service Communication
[2025-09-17 19:41:47] ======================================
[2025-09-17 19:41:47] ğŸ¯ Testing complete flow: Auth â†’ Payment â†’ Notification
[2025-09-17 19:41:47] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:41:47] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:41:47] 
[2025-09-17 19:41:47] âœ… ECOSYSTEM TEST COMPLETED
[2025-09-17 19:41:47] ============================
[2025-09-17 19:41:47] ğŸ“Š Total API calls made: 32
[2025-09-17 19:41:47] ğŸ“ Log file saved: logs/ecosystem-20250917-194058.log
