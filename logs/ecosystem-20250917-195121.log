[2025-09-17 19:51:21] ğŸš€ Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 19:51:21] ==============================================
[2025-09-17 19:51:21] 
[2025-09-17 19:51:21] ğŸ¥ STEP 1: Health Checks
[2025-09-17 19:51:21] ========================
[2025-09-17 19:51:21] ğŸ”„ API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 19:51:21] ğŸ“¥ Response: 
[2025-09-17 19:51:22] ğŸ”„ API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 19:51:22] ğŸ“¥ Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T14:21:22.336Z"}
[2025-09-17 19:51:23] ğŸ”„ API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 19:51:23] ğŸ“¥ Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T14:21:23.371Z"}
[2025-09-17 19:51:25] 
[2025-09-17 19:51:25] ğŸ‘¤ STEP 2: User Registration
[2025-09-17 19:51:25] ============================
[2025-09-17 19:51:25] ğŸ“ Registering user: alice@paypal.com
[2025-09-17 19:51:25] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:51:25] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758118885656}
[2025-09-17 19:51:26] ğŸ“ Registering user: bob@paypal.com
[2025-09-17 19:51:26] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:51:26] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758118886857}
[2025-09-17 19:51:27] ğŸ“ Registering user: charlie@paypal.com
[2025-09-17 19:51:27] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 19:51:28] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758118888053}
[2025-09-17 19:51:29] 
[2025-09-17 19:51:29] ğŸ” STEP 3: User Login
[2025-09-17 19:51:29] =====================
[2025-09-17 19:51:29] ğŸ”‘ Logging in user: alice@paypal.com
[2025-09-17 19:51:29] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:51:29] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTg4ODU2NTYsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODExODg4OSwiZXhwIjoxNzU4MjA1Mjg5fQ.Pp_Qyz2yXreQ8Yxp60ysRo9uq2GCjpRRv9ytWhkWF4c","userId":1758118885656}
[2025-09-17 19:51:29] âœ… Token extracted successfully for alice@paypal.com (token=eyJhbGci...)
[2025-09-17 19:51:30] ğŸ”‘ Logging in user: bob@paypal.com
[2025-09-17 19:51:30] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:51:30] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTg4ODY4NTcsImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMTg4OTAsImV4cCI6MTc1ODIwNTI5MH0.R4UMhqg30uGmtY1fMwv5s2PaYv0xGhzZUYW1BgNKtMY","userId":1758118886857}
[2025-09-17 19:51:30] âœ… Token extracted successfully for bob@paypal.com (token=eyJhbGci...)
[2025-09-17 19:51:31] ğŸ”‘ Logging in user: charlie@paypal.com
[2025-09-17 19:51:31] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:51:31] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMTg4ODgwNTMsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTE4ODkxLCJleHAiOjE3NTgyMDUyOTF9.AZeZ8n_kt2MXc420FsFRXgeSAdorHM5FH3f6idtNJnY","userId":1758118888053}
[2025-09-17 19:51:31] âœ… Token extracted successfully for charlie@paypal.com (token=eyJhbGci...)
[2025-09-17 19:51:32] 
[2025-09-17 19:51:32] âœ… STEP 4: Token Verification
[2025-09-17 19:51:32] =============================
[2025-09-17 19:51:32] ğŸ« Verifying token for alice@paypal.com
[2025-09-17 19:51:32] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:51:32] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:51:33] ğŸ« Verifying token for bob@paypal.com
[2025-09-17 19:51:33] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:51:34] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:51:35] ğŸ« Verifying token for charlie@paypal.com
[2025-09-17 19:51:35] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 19:51:35] ğŸ“¥ Response: {"valid":false,"error":"Invalid token"}
[2025-09-17 19:51:36] 
[2025-09-17 19:51:36] ğŸ’³ STEP 5: Payment Processing
[2025-09-17 19:51:36] =============================
[2025-09-17 19:51:36] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:51:36] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:36] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:38] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:51:38] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:38] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:40] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:51:40] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:40] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:42] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:51:42] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:42] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:44] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:51:44] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:44] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:46] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:51:46] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:46] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:48] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:51:48] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:48] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:50] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:51:50] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:50] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:52] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:51:52] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:52] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:54] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:51:54] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:54] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:56] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 19:51:56] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:56] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:51:58] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 19:51:58] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:51:58] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:00] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 19:52:00] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:52:00] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:02] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 19:52:02] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:52:02] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:04] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 19:52:04] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:52:04] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:06] 
[2025-09-17 19:52:06] ğŸ“Š STEP 6: Payment History
[2025-09-17 19:52:06] ==========================
[2025-09-17 19:52:06] ğŸ“ˆ Fetching payment history
[2025-09-17 19:52:06] ğŸ”„ API Call: GET http://localhost:8080/api/payment/history
[2025-09-17 19:52:06] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:06] 
[2025-09-17 19:52:06] âŒ STEP 7: Error Scenarios
[2025-09-17 19:52:06] ==========================
[2025-09-17 19:52:06] ğŸš« Testing invalid login
[2025-09-17 19:52:06] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 19:52:06] ğŸ“¥ Response: {"error":"Invalid credentials"}
[2025-09-17 19:52:07] ğŸš« Testing payment without token
[2025-09-17 19:52:07] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:52:07] ğŸ“¥ Response: {"error":"No token provided"}
[2025-09-17 19:52:08] ğŸš« Testing invalid token
[2025-09-17 19:52:08] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:52:08] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:09] 
[2025-09-17 19:52:09] ğŸ”„ STEP 8: Inter-Service Communication
[2025-09-17 19:52:09] ======================================
[2025-09-17 19:52:09] ğŸ¯ Testing complete flow: Auth â†’ Payment â†’ Notification
[2025-09-17 19:52:09] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 19:52:10] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 19:52:10] 
[2025-09-17 19:52:10] âœ… ECOSYSTEM TEST COMPLETED
[2025-09-17 19:52:10] ============================
[2025-09-17 19:52:10] ğŸ“Š Total API calls made: 32
[2025-09-17 19:52:10] ğŸ“ Log file saved: logs/ecosystem-20250917-195121.log
