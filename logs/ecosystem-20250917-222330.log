[2025-09-17 22:23:30] ğŸš€ Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 22:23:30] ==============================================
[2025-09-17 22:23:30] 
[2025-09-17 22:23:30] ğŸ¥ STEP 1: Health Checks
[2025-09-17 22:23:30] ========================
[2025-09-17 22:23:30] ğŸ”„ API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 22:23:30] ğŸ“¥ Response: {"status":"healthy","service":"auth-service","timestamp":"2025-09-17T16:53:30.694Z"}
[2025-09-17 22:23:31] ğŸ”„ API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 22:23:31] ğŸ“¥ Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T16:53:31.731Z"}
[2025-09-17 22:23:32] ğŸ”„ API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 22:23:32] ğŸ“¥ Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T16:53:32.769Z"}
[2025-09-17 22:23:34] 
[2025-09-17 22:23:34] ğŸ‘¤ STEP 2: User Registration
[2025-09-17 22:23:34] ============================
[2025-09-17 22:23:34] ğŸ“ Registering user: alice@paypal.com
[2025-09-17 22:23:34] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:23:35] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758128015109}
[2025-09-17 22:23:36] ğŸ“ Registering user: bob@paypal.com
[2025-09-17 22:23:36] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:23:36] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758128016464}
[2025-09-17 22:23:37] ğŸ“ Registering user: charlie@paypal.com
[2025-09-17 22:23:37] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:23:37] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758128017815}
[2025-09-17 22:23:38] 
[2025-09-17 22:23:38] ğŸ” STEP 3: User Login
[2025-09-17 22:23:38] =====================
[2025-09-17 22:23:38] ğŸ”‘ Logging in user: alice@paypal.com
[2025-09-17 22:23:38] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:23:39] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyODAxOSwiZXhwIjoxNzU4MjE0NDE5fQ.RAcya70B9FehhIKljVDZnKzk0w3ne_ZORy7rIZYQe5I","userId":1758127953450}
[2025-09-17 22:23:39] âœ… Token extracted successfully for alice@paypal.com
[2025-09-17 22:23:39] ğŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:23:39] ğŸ”‘ Verifying token immediately after login
[2025-09-17 22:23:39] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:23:39] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:23:40] ğŸ”‘ Logging in user: bob@paypal.com
[2025-09-17 22:23:40] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:23:40] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjgwMjAsImV4cCI6MTc1ODIxNDQyMH0.PNXScvR8j4l7KNFuVhMxxGWDo2Ti4KnIhffc83LeeMM","userId":1758127954779}
[2025-09-17 22:23:40] âœ… Token extracted successfully for bob@paypal.com
[2025-09-17 22:23:40] ğŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:23:40] ğŸ”‘ Verifying token immediately after login
[2025-09-17 22:23:40] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:23:40] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:23:41] ğŸ”‘ Logging in user: charlie@paypal.com
[2025-09-17 22:23:41] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:23:41] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI4MDIxLCJleHAiOjE3NTgyMTQ0MjF9.11NhVBYMYrHX1xsGH-UF5XEgAuJ-FDX97MkQUzTA8sE","userId":1758127956127}
[2025-09-17 22:23:41] âœ… Token extracted successfully for charlie@paypal.com
[2025-09-17 22:23:42] ğŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:23:42] ğŸ”‘ Verifying token immediately after login
[2025-09-17 22:23:42] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:23:42] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:23:43] 
[2025-09-17 22:23:43] âœ… STEP 4: Token Verification
[2025-09-17 22:23:43] =============================
[2025-09-17 22:23:43] ğŸ« Verifying token for alice@paypal.com
[2025-09-17 22:23:43] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:23:43] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:23:44] ğŸ« Verifying token for bob@paypal.com
[2025-09-17 22:23:44] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:23:44] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:23:45] ğŸ« Verifying token for charlie@paypal.com
[2025-09-17 22:23:45] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:23:45] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:23:46] 
[2025-09-17 22:23:46] ğŸ’³ STEP 5: Payment Processing
[2025-09-17 22:23:46] =============================
[2025-09-17 22:23:46] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:23:46] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:46] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:23:48] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:23:48] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:48] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:23:50] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:23:50] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:50] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:23:52] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 22:23:52] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:52] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:23:54] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 22:23:54] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:54] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:23:56] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:23:56] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:56] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:23:58] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:23:58] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:23:58] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:00] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:24:00] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:00] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:02] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 22:24:02] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:02] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:04] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 22:24:04] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:04] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:06] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:24:06] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:06] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:08] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:24:08] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:08] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:10] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:24:10] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:11] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:13] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 22:24:13] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:13] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:15] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 22:24:15] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:15] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:17] 
[2025-09-17 22:24:17] ğŸ“Š STEP 6: Payment History
[2025-09-17 22:24:17] ==========================
[2025-09-17 22:24:17] ğŸ“ˆ Fetching payment history
[2025-09-17 22:24:17] ğŸ”„ API Call: GET http://localhost:8080/api/payment/history
[2025-09-17 22:24:17] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:17] 
[2025-09-17 22:24:17] âŒ STEP 7: Error Scenarios
[2025-09-17 22:24:17] ==========================
[2025-09-17 22:24:17] ğŸš« Testing invalid login
[2025-09-17 22:24:17] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:24:17] ğŸ“¥ Response: {"error":"Invalid credentials"}
[2025-09-17 22:24:18] ğŸš« Testing payment without token
[2025-09-17 22:24:18] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:18] ğŸ“¥ Response: {"error":"No token provided"}
[2025-09-17 22:24:19] ğŸš« Testing invalid token
[2025-09-17 22:24:19] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:19] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:20] 
[2025-09-17 22:24:20] ğŸ”„ STEP 8: Inter-Service Communication
[2025-09-17 22:24:20] ======================================
[2025-09-17 22:24:20] ğŸ¯ Testing complete flow: Auth â†’ Payment â†’ Notification
[2025-09-17 22:24:20] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:24:20] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:24:20] 
[2025-09-17 22:24:20] âœ… ECOSYSTEM TEST COMPLETED
[2025-09-17 22:24:20] ============================
[2025-09-17 22:24:20] ğŸ“Š Total API calls made: 35
[2025-09-17 22:24:20] ğŸ“ Log file saved: logs/ecosystem-20250917-222330.log
