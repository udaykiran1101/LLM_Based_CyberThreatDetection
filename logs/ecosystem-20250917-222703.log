[2025-09-17 22:27:03] ğŸš€ Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 22:27:03] ==============================================
[2025-09-17 22:27:03] 
[2025-09-17 22:27:03] ğŸ¥ STEP 1: Health Checks
[2025-09-17 22:27:03] ========================
[2025-09-17 22:27:03] ğŸ”„ API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 22:27:03] ğŸ“¥ Response: {"status":"healthy","service":"auth-service","timestamp":"2025-09-17T16:57:03.117Z"}
[2025-09-17 22:27:04] ğŸ”„ API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 22:27:04] ğŸ“¥ Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T16:57:04.151Z"}
[2025-09-17 22:27:05] ğŸ”„ API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 22:27:05] ğŸ“¥ Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T16:57:05.184Z"}
[2025-09-17 22:27:07] 
[2025-09-17 22:27:07] ğŸ‘¤ STEP 2: User Registration
[2025-09-17 22:27:07] ============================
[2025-09-17 22:27:07] ğŸ“ Registering user: alice@paypal.com
[2025-09-17 22:27:07] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:27:07] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758128227551}
[2025-09-17 22:27:08] ğŸ“ Registering user: bob@paypal.com
[2025-09-17 22:27:08] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:27:08] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758128228887}
[2025-09-17 22:27:09] ğŸ“ Registering user: charlie@paypal.com
[2025-09-17 22:27:09] ğŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:27:10] ğŸ“¥ Response: {"message":"User registered successfully","userId":1758128230234}
[2025-09-17 22:27:11] 
[2025-09-17 22:27:11] ğŸ” STEP 3: User Login
[2025-09-17 22:27:11] =====================
[2025-09-17 22:27:11] ğŸ”‘ Logging in user: alice@paypal.com
[2025-09-17 22:27:11] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:27:11] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyODIzMSwiZXhwIjoxNzU4MjE0NjMxfQ.3e0j_wMlf-7Q5FgdMZ6eTUuey5Qgq1YhiCOaOhQMXl8","userId":1758127953450}
[2025-09-17 22:27:11] âœ… Token extracted successfully for alice@paypal.com
[2025-09-17 22:27:11] ğŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:27:11] ğŸ”‘ Verifying token immediately after login
[2025-09-17 22:27:11] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:27:11] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:27:12] ğŸ”‘ Logging in user: bob@paypal.com
[2025-09-17 22:27:12] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:27:12] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjgyMzIsImV4cCI6MTc1ODIxNDYzMn0.EIoH0PYGc-OPKTjQhTlTriX54rlzHzLkxLVLbOvlzB4","userId":1758127954779}
[2025-09-17 22:27:13] âœ… Token extracted successfully for bob@paypal.com
[2025-09-17 22:27:13] ğŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:27:13] ğŸ”‘ Verifying token immediately after login
[2025-09-17 22:27:13] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:27:13] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:27:14] ğŸ”‘ Logging in user: charlie@paypal.com
[2025-09-17 22:27:14] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:27:14] ğŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI4MjM0LCJleHAiOjE3NTgyMTQ2MzR9.oDPXt5h75pT9hW1CUyIHvhxFi5SyYsgGejcKSrQP3-A","userId":1758127956127}
[2025-09-17 22:27:14] âœ… Token extracted successfully for charlie@paypal.com
[2025-09-17 22:27:14] ğŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:27:14] ğŸ”‘ Verifying token immediately after login
[2025-09-17 22:27:14] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:27:14] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:27:15] 
[2025-09-17 22:27:15] âœ… STEP 4: Token Verification
[2025-09-17 22:27:15] =============================
[2025-09-17 22:27:15] ğŸ« Verifying token for alice@paypal.com
[2025-09-17 22:27:15] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:27:15] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:27:16] ğŸ« Verifying token for bob@paypal.com
[2025-09-17 22:27:16] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:27:16] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:27:17] ğŸ« Verifying token for charlie@paypal.com
[2025-09-17 22:27:17] ğŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:27:17] ğŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:27:18] 
[2025-09-17 22:27:18] ğŸ’³ STEP 5: Payment Processing
[2025-09-17 22:27:18] =============================
[2025-09-17 22:27:18] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:27:18] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:18] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:20] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:27:20] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:20] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:22] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:27:22] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:22] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:24] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 22:27:24] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:24] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:26] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 22:27:26] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:26] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:28] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:27:28] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:28] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:30] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:27:30] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:30] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:33] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:27:33] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:33] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:35] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 22:27:35] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:35] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:37] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 22:27:37] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:37] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:39] ğŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:27:39] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:39] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:41] ğŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:27:41] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:41] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:43] ğŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:27:43] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:43] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:45] ğŸ’° Processing payment: 300.00 to landlord@apartments.com
[2025-09-17 22:27:45] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:45] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:47] ğŸ’° Processing payment: 75.25 to utilities@company.com
[2025-09-17 22:27:47] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:47] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:49] 
[2025-09-17 22:27:49] ğŸ“Š STEP 6: Payment History
[2025-09-17 22:27:49] ==========================
[2025-09-17 22:27:49] ğŸ“ˆ Fetching payment history
[2025-09-17 22:27:49] ğŸ”„ API Call: GET http://localhost:8080/api/payment/history
[2025-09-17 22:27:49] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:49] 
[2025-09-17 22:27:49] âŒ STEP 7: Error Scenarios
[2025-09-17 22:27:49] ==========================
[2025-09-17 22:27:49] ğŸš« Testing invalid login
[2025-09-17 22:27:49] ğŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:27:49] ğŸ“¥ Response: {"error":"Invalid credentials"}
[2025-09-17 22:27:50] ğŸš« Testing payment without token
[2025-09-17 22:27:50] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:50] ğŸ“¥ Response: {"error":"No token provided"}
[2025-09-17 22:27:51] ğŸš« Testing invalid token
[2025-09-17 22:27:51] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:51] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:52] 
[2025-09-17 22:27:52] ğŸ”„ STEP 8: Inter-Service Communication
[2025-09-17 22:27:52] ======================================
[2025-09-17 22:27:52] ğŸ¯ Testing complete flow: Auth â†’ Payment â†’ Notification
[2025-09-17 22:27:52] ğŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:27:52] ğŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:27:52] 
[2025-09-17 22:27:52] âœ… ECOSYSTEM TEST COMPLETED
[2025-09-17 22:27:52] ============================
[2025-09-17 22:27:52] ğŸ“Š Total API calls made: 35
[2025-09-17 22:27:52] ğŸ“ Log file saved: logs/ecosystem-20250917-222703.log
