[2025-09-17 22:46:56] ðŸš€ Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 22:46:56] ==============================================
[2025-09-17 22:46:56] 
[2025-09-17 22:46:56] ðŸ¥ STEP 1: Health Checks
[2025-09-17 22:46:56] ========================
[2025-09-17 22:46:56] ðŸ”„ API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 22:46:56] ðŸ“¥ Response: {"status":"healthy","service":"auth-service","timestamp":"2025-09-17T17:16:56.074Z"}
[2025-09-17 22:46:57] ðŸ”„ API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 22:46:57] ðŸ“¥ Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T17:16:57.105Z"}
[2025-09-17 22:46:58] ðŸ”„ API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 22:46:58] ðŸ“¥ Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T17:16:58.132Z"}
[2025-09-17 22:47:00] 
[2025-09-17 22:47:00] ðŸ‘¤ STEP 2: User Registration
[2025-09-17 22:47:00] ============================
[2025-09-17 22:47:00] ðŸ“ Registering user: alice@paypal.com
[2025-09-17 22:47:00] ðŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:47:00] ðŸ“¥ Response: {"message":"User registered successfully","userId":1758129420316}
[2025-09-17 22:47:01] ðŸ“ Registering user: bob@paypal.com
[2025-09-17 22:47:01] ðŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:47:01] ðŸ“¥ Response: {"message":"User registered successfully","userId":1758129421476}
[2025-09-17 22:47:02] ðŸ“ Registering user: charlie@paypal.com
[2025-09-17 22:47:02] ðŸ”„ API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:47:02] ðŸ“¥ Response: {"message":"User registered successfully","userId":1758129422638}
[2025-09-17 22:47:03] 
[2025-09-17 22:47:03] ðŸ” STEP 3: User Login
[2025-09-17 22:47:03] =====================
[2025-09-17 22:47:03] ðŸ”‘ Logging in user: alice@paypal.com
[2025-09-17 22:47:03] ðŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:47:03] ðŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfg","userId":1758127953450}
[2025-09-17 22:47:03] ðŸž Raw login response: [2025-09-17 22:47:03] ðŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:47:03] ðŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfg","userId":1758127953450}
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfg","userId":1758127953450}
[2025-09-17 22:47:03] ðŸž Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfg
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfg
[2025-09-17 22:47:03] âœ… Token extracted successfully for alice@paypal.com
[2025-09-17 22:47:03] ðŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:47:03] ðŸ”‘ Verifying token immediately after login
[2025-09-17 22:47:03] ðŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:47:03] ðŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:47:04] ðŸ”‘ Logging in user: bob@paypal.com
[2025-09-17 22:47:04] ðŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:47:05] ðŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGw","userId":1758127954779}
[2025-09-17 22:47:05] ðŸž Raw login response: [2025-09-17 22:47:04] ðŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:47:05] ðŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGw","userId":1758127954779}
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGw","userId":1758127954779}
[2025-09-17 22:47:05] ðŸž Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGw
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGw
[2025-09-17 22:47:05] âœ… Token extracted successfully for bob@paypal.com
[2025-09-17 22:47:05] ðŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:47:05] ðŸ”‘ Verifying token immediately after login
[2025-09-17 22:47:05] ðŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:47:05] ðŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:47:06] ðŸ”‘ Logging in user: charlie@paypal.com
[2025-09-17 22:47:06] ðŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:47:06] ðŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00","userId":1758127956127}
[2025-09-17 22:47:06] ðŸž Raw login response: [2025-09-17 22:47:06] ðŸ”„ API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:47:06] ðŸ“¥ Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00","userId":1758127956127}
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00","userId":1758127956127}
[2025-09-17 22:47:06] ðŸž Extracted token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00
[2025-09-17 22:47:06] âœ… Token extracted successfully for charlie@paypal.com
[2025-09-17 22:47:06] ðŸ”’ Token details: eyJhbGciOiJIUzI1NiIs...
[2025-09-17 22:47:06] ðŸ”‘ Verifying token immediately after login
[2025-09-17 22:47:06] ðŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:47:06] ðŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:47:07] 
[2025-09-17 22:47:07] âœ… STEP 4: Token Verification
[2025-09-17 22:47:07] =============================
[2025-09-17 22:47:07] DEBUG Raw token for alice@paypal.com: ->eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfgeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTQyMywiZXhwIjoxNzU4MjE1ODIzfQ.PfHiZRvQtbXLnPgoFILfxxWTzZnifYw1BaRJCiCxvfg<-
[2025-09-17 22:47:07] ðŸŽ« Verifying token for alice@paypal.com
[2025-09-17 22:47:07] ðŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:47:07] ðŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:47:08] DEBUG Raw token for bob@paypal.com: ->eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGweyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk0MjUsImV4cCI6MTc1ODIxNTgyNX0.LvXRUvU2XPi66l6HSX0JbEjj6fW5RVU15pAr29GtGGw<-
[2025-09-17 22:47:08] ðŸŽ« Verifying token for bob@paypal.com
[2025-09-17 22:47:08] ðŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:47:08] ðŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:47:09] DEBUG Raw token for charlie@paypal.com: ->eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5NDI2LCJleHAiOjE3NTgyMTU4MjZ9.iPBektvflokjEaSFfLvveD_vucggRW2UX_JcrvcYk00<-
[2025-09-17 22:47:09] ðŸŽ« Verifying token for charlie@paypal.com
[2025-09-17 22:47:09] ðŸ”„ API Call: POST http://localhost:8080/api/auth/verify
[2025-09-17 22:47:09] ðŸ“¥ Response: {"valid":false,"error":"Invalid token","details":"jwt malformed"}
[2025-09-17 22:47:10] 
[2025-09-17 22:47:10] ðŸ’³ STEP 5: Payment Processing
[2025-09-17 22:47:10] =============================
[2025-09-17 22:47:10] ðŸ’° Processing payment: 50.00 to john@example.com
[2025-09-17 22:47:10] ðŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:47:10] ðŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:47:12] ðŸ’° Processing payment: 150.75 to sarah@store.com
[2025-09-17 22:47:12] ðŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:47:12] ðŸ“¥ Response: {"error":"Invalid token"}
[2025-09-17 22:47:14] ðŸ’° Processing payment: 25.50 to mike@restaurant.com
[2025-09-17 22:47:14] ðŸ”„ API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:47:14] ðŸ“¥ Response: {"error":"Invalid token"}
