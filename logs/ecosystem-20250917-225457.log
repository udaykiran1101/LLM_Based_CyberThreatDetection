[2025-09-17 22:54:57] 🚀 Starting PayPal Clone Ecosystem Test Suite
[2025-09-17 22:54:57] ==============================================
[2025-09-17 22:54:57] 
[2025-09-17 22:54:57] 🏥 STEP 1: Health Checks
[2025-09-17 22:54:57] ========================
[2025-09-17 22:54:57] 🔄 API Call: GET http://localhost:8080/api/auth/health
[2025-09-17 22:54:57] 📥 Response: {"status":"healthy","service":"auth-service","timestamp":"2025-09-17T17:24:57.819Z"}
[2025-09-17 22:54:58] 🔄 API Call: GET http://localhost:8080/api/payment/health
[2025-09-17 22:54:58] 📥 Response: {"status":"healthy","service":"payment-service","timestamp":"2025-09-17T17:24:58.851Z"}
[2025-09-17 22:54:59] 🔄 API Call: GET http://localhost:8080/api/notification/health
[2025-09-17 22:54:59] 📥 Response: {"status":"healthy","service":"notification-service","timestamp":"2025-09-17T17:24:59.876Z"}
[2025-09-17 22:55:01] 
[2025-09-17 22:55:01] 👤 STEP 2: User Registration
[2025-09-17 22:55:01] ============================
[2025-09-17 22:55:01] 📝 Registering user: alice@paypal.com
[2025-09-17 22:55:01] 🔄 API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:55:02] 📥 Response: {"message":"User registered successfully","userId":1758129902052}
[2025-09-17 22:55:03] 📝 Registering user: bob@paypal.com
[2025-09-17 22:55:03] 🔄 API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:55:03] 📥 Response: {"message":"User registered successfully","userId":1758129903215}
[2025-09-17 22:55:04] 📝 Registering user: charlie@paypal.com
[2025-09-17 22:55:04] 🔄 API Call: POST http://localhost:8080/api/auth/register
[2025-09-17 22:55:04] 📥 Response: {"message":"User registered successfully","userId":1758129904386}
[2025-09-17 22:55:05] 
[2025-09-17 22:55:05] 🔐 STEP 3: User Login
[2025-09-17 22:55:05] =====================
[2025-09-17 22:55:05] 🔑 Logging in user: alice@paypal.com
[2025-09-17 22:55:05] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:05] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTkwNSwiZXhwIjoxNzU4MjE2MzA1fQ.xUbPXi3jhGaO4wAC1r7TszHjzK7DqySzNyAvR2zvfFI","userId":1758127953450}
[2025-09-17 22:55:05] 🐞 Raw login response: [2025-09-17 22:55:05] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:05] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTkwNSwiZXhwIjoxNzU4MjE2MzA1fQ.xUbPXi3jhGaO4wAC1r7TszHjzK7DqySzNyAvR2zvfFI","userId":1758127953450}
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTM0NTAsImVtYWlsIjoiYWxpY2VAcGF5cGFsLmNvbSIsImlhdCI6MTc1ODEyOTkwNSwiZXhwIjoxNzU4MjE2MzA1fQ.xUbPXi3jhGaO4wAC1r7TszHjzK7DqySzNyAvR2zvfFI","userId":1758127953450}
[2025-09-17 22:55:05] 🐞 Extracted token: 
[2025-09-17 22:55:05] ❌ Failed to extract token for alice@paypal.com
[2025-09-17 22:55:06] 🔑 Logging in user: bob@paypal.com
[2025-09-17 22:55:06] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:06] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk5MDYsImV4cCI6MTc1ODIxNjMwNn0.OT4yNGDUk3y3NsENdpEo2cHBGxK5PuNFfuZrfrCaEjY","userId":1758127954779}
[2025-09-17 22:55:06] 🐞 Raw login response: [2025-09-17 22:55:06] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:06] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk5MDYsImV4cCI6MTc1ODIxNjMwNn0.OT4yNGDUk3y3NsENdpEo2cHBGxK5PuNFfuZrfrCaEjY","userId":1758127954779}
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTQ3NzksImVtYWlsIjoiYm9iQHBheXBhbC5jb20iLCJpYXQiOjE3NTgxMjk5MDYsImV4cCI6MTc1ODIxNjMwNn0.OT4yNGDUk3y3NsENdpEo2cHBGxK5PuNFfuZrfrCaEjY","userId":1758127954779}
[2025-09-17 22:55:06] 🐞 Extracted token: 
[2025-09-17 22:55:06] ❌ Failed to extract token for bob@paypal.com
[2025-09-17 22:55:07] 🔑 Logging in user: charlie@paypal.com
[2025-09-17 22:55:07] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:07] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5OTA3LCJleHAiOjE3NTgyMTYzMDd9.XLUADQeqWbE57R4xfQRJb7svw-pCCJ5LAMfhabCtwn8","userId":1758127956127}
[2025-09-17 22:55:07] 🐞 Raw login response: [2025-09-17 22:55:07] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:07] 📥 Response: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5OTA3LCJleHAiOjE3NTgyMTYzMDd9.XLUADQeqWbE57R4xfQRJb7svw-pCCJ5LAMfhabCtwn8","userId":1758127956127}
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE3NTgxMjc5NTYxMjcsImVtYWlsIjoiY2hhcmxpZUBwYXlwYWwuY29tIiwiaWF0IjoxNzU4MTI5OTA3LCJleHAiOjE3NTgyMTYzMDd9.XLUADQeqWbE57R4xfQRJb7svw-pCCJ5LAMfhabCtwn8","userId":1758127956127}
[2025-09-17 22:55:07] 🐞 Extracted token: 
[2025-09-17 22:55:07] ❌ Failed to extract token for charlie@paypal.com
[2025-09-17 22:55:08] 
[2025-09-17 22:55:08] ✅ STEP 4: Token Verification
[2025-09-17 22:55:08] =============================
[2025-09-17 22:55:08] DEBUG Raw token for alice@paypal.com: -><-
[2025-09-17 22:55:08] ⚠️ Skipping verification for alice@paypal.com - no valid token
[2025-09-17 22:55:08] DEBUG Raw token for bob@paypal.com: -><-
[2025-09-17 22:55:08] ⚠️ Skipping verification for bob@paypal.com - no valid token
[2025-09-17 22:55:09] DEBUG Raw token for charlie@paypal.com: -><-
[2025-09-17 22:55:09] ⚠️ Skipping verification for charlie@paypal.com - no valid token
[2025-09-17 22:55:09] 
[2025-09-17 22:55:09] 💳 STEP 5: Payment Processing
[2025-09-17 22:55:09] =============================
[2025-09-17 22:55:09] 
[2025-09-17 22:55:09] 📊 STEP 6: Payment History
[2025-09-17 22:55:09] ==========================
[2025-09-17 22:55:09] 
[2025-09-17 22:55:09] ❌ STEP 7: Error Scenarios
[2025-09-17 22:55:09] ==========================
[2025-09-17 22:55:09] 🚫 Testing invalid login
[2025-09-17 22:55:09] 🔄 API Call: POST http://localhost:8080/api/auth/login
[2025-09-17 22:55:09] 📥 Response: {"error":"Invalid credentials"}
[2025-09-17 22:55:10] 🚫 Testing payment without token
[2025-09-17 22:55:10] 🔄 API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:55:10] 📥 Response: {"error":"No token provided"}
[2025-09-17 22:55:11] 🚫 Testing invalid token
[2025-09-17 22:55:11] 🔄 API Call: POST http://localhost:8080/api/payment/process
[2025-09-17 22:55:11] 📥 Response: {"error":"Invalid token"}
[2025-09-17 22:55:12] 
[2025-09-17 22:55:12] 🔄 STEP 8: Inter-Service Communication
[2025-09-17 22:55:12] ======================================
[2025-09-17 22:55:12] 
[2025-09-17 22:55:12] ✅ ECOSYSTEM TEST COMPLETED
[2025-09-17 22:55:12] ============================
[2025-09-17 22:55:12] 📊 Total API calls made: 15
[2025-09-17 22:55:12] 📝 Log file saved: logs/ecosystem-20250917-225457.log
